{% extends 'base.html' %}

{% block title %}–£–≤—ñ–º–∫–Ω—É—Ç–∏ 2FA{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-6">
        <div class="card">
            <div class="card-body p-5">
                <h2 class="text-center mb-4">üîê –£–≤—ñ–º–∫–Ω—É—Ç–∏ 2FA</h2>
                
                <div class="alert alert-info">
                    <strong>–ö—Ä–æ–∫ 1:</strong> –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å Google Authenticator –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω
                    <br>
                    <a href="https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2" target="_blank">Android</a> | 
                    <a href="https://apps.apple.com/app/google-authenticator/id388497605" target="_blank">iOS</a>
                </div>
                
                <div class="alert alert-info">
                    <strong>–ö—Ä–æ–∫ 2:</strong> –°–∫–∞–Ω—É–π—Ç–µ QR-–∫–æ–¥ –Ω–∏–∂—á–µ –∞–±–æ –≤–≤–µ–¥—ñ—Ç—å –∫–ª—é—á –≤—Ä—É—á–Ω—É
                </div>
                
                <div class="text-center mb-4">
                    <img src="{{ qr_code }}" alt="QR Code" class="img-fluid border rounded" style="max-width: 250px;">
                </div>
                
                <div class="alert alert-secondary">
                    <strong>–ö–ª—é—á –≤—Ä—É—á–Ω—É:</strong>
                    <code class="user-select-all">{{ secret }}</code>
                </div>
                
                <div class="alert alert-info">
                    <strong>–ö—Ä–æ–∫ 3:</strong> –í–≤–µ–¥—ñ—Ç—å 6-–∑–Ω–∞—á–Ω–∏–π –∫–æ–¥ –∑ –¥–æ–¥–∞—Ç–∫—É –¥–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è
                </div>
                
                <form method="POST">
                    {{ form.hidden_tag() }}
                    
                    <div class="mb-4">
                        {{ form.code.label(class="form-label") }}
                        {{ form.code(class="form-control form-control-lg text-center", placeholder="000000", maxlength="6", autocomplete="off") }}
                        {% for error in form.code.errors %}
                            <div class="invalid-feedback d-block">{{ error }}</div>
                        {% endfor %}
                    </div>
                    
                    <div class="d-grid gap-2">
                        {{ form.submit(class="btn btn-success btn-lg") }}
                        <a href="{{ url_for('profile.profile') }}" class="btn btn-outline-secondary">–°–∫–∞—Å—É–≤–∞—Ç–∏</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}
